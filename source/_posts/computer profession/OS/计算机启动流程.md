---
title: 计算机启动流程
tags:
  - 专业课
abbrlink: 1ad9df94
date: 2021-06-01 11:04:33
updated: 2021-06-01 11:04:33
---
# x86 PC启动流程

1. 上电，BIOS，
   
   处理器上电后**立刻执行烧写在某ROM芯片中的BIOS程序**。BIOS程序进行上电自检、初始化最基本的硬件设备并**载入并执行启动盘的起始512字节代码**。

   说明：
   1. BIOS是固件的一种，是硬件出厂的时候写在ROM里的一小段程序，CPU被设计为上电就会自动执行这段程序。这段程序会初始化最基本的硬件设备，包括启动盘、内存、显示器、键盘（甚至鼠标）
   2. 启动盘的起始512字节可执行代码是无操作系统平台约束的x86裸代码，称为**MBR（主引导记录）**
   3. BIOS是统称，实际上现在采用的BIOS是UEFI

2. Bootloader

   启动盘起始512字节负责将完整的引导启动程序载入内存并**引导启动操作系统**
   
   说明：
   
   bootloader而在Windows平台下又称为MBR（主引导记录）。这是因为实际上512字节往往不足以完成全部载入工作，故这512字节做的事其实是把完整的引导启动程序载入到内存并执行。

    bootloader承担着如下任务：
    - **载入操作系统内核**：在启动盘中定位内核位置并载入到内存中
    - **切换至32位/64位保护模式**：x86 CPU启动的初始状态是**16位实模式**。该模式下程序直接访问物理内存，没有进程、多任务，但只能寻址1MB的内存空间。需要bootloader将CPU切换至保护模式，从而支持现代计算机的众多特性（段页式虚拟内存管理，进程管理等）
    - 将某些BIOS得到的硬件信息转交给OS

    实际上Linux的多系统引导程序Grub也就是一个bootloader，但Grub较为复杂，可以引导不同的操作系统的启动