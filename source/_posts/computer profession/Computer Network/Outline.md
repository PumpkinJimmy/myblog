# Computer Network Outline
- Intro
  - 三种通信
    - 单工通信
    - 半双工通信
    - 全双工通信
  - 计算机网络的定义
  - 网路服务类别
    - 可靠/不可靠（ARQ）
    - 有确认/无确认（ACK）
    - 有连接/无连接（虚电路，TCP）
  - 网络分层模型及其功能
    - OSI 7层模型
      - 应用层
      - 表示层
      - 会话层
      - 传输层
      - 网络层
      - 数据链路层
      - 物理层
    - TCP 5层教学模型
      - 应用层
      - 传输层
      - 网络层
      - 数据链路层
      - 物理层
  - 网络性能指标
    - 带宽
    - 吞吐量
    - 时延
  - Internet
    - Internet = Host + Link + Router
    - Internet = 边缘部分 + 接入网 + 主干网
  - 网络类型——按范围分
    - LAN 局域网
    - MAN 城域网
    - WAN 广域网
    - *SAN 系统域网
  - 其他概念
    - PDU 协议数据单元
    - SDU 服务数据单元
    - PCI 协议控制信息
    - PDU = PCI + SDU
    - SAP 服务访问点
    - Peer Entity 对等实体
- 物理层
  - 信道复用技术
    - 时分复用
    - 频分复用
    - 波分复用
    - 码分多址
    - **统计多路复用**
  - 交换技术
    - 电路交换
    - 包交换
  - 通信链路问题
    - 基线漂移
    - 时钟漂移
  - 编码方式及它们的优缺点
    - 单极编码
    - 不归零编码（NRZ）
    - 不归零反转编码（NRZI）
    - 曼彻斯特编码
    - 差分曼彻斯特编码
    - 4B/5B编码
  - 常见物理通信信道
    - 有线
      - 双绞线
        - cat-3
        - cat-5
        - cat-6
      - 同轴电缆（早期的广播型有线网络介值）
      - 光纤
        - 单模光纤
        - 多模光纤
    - 无线
      - Wifi
      - 蜂窝网络
      - 卫星信道
- 数据链路层
  - 提供直连网络之间节点的通信服务
  - 主要功能
    - 成帧(Framing)
    - 差错检测(Error Detect)
    - 差错控制(Error Control)
    - 介值访问控制(Medium Access Control)
  - 差错检测
    - 差错检测与纠错
    - 奇偶校验码：一位错
    - 二维奇偶校验码：两位错，一位纠错
    - CRC循环冗余校验
      - 模2除法：异或
      - 构造CRC校验码
    - 校验和(Checksum)
    - *汉明码
  - 差错控制：可靠传输
    - 直连网络中可能出现的传输差错
      - 丢失（包括校验出错而被丢弃的）
      - 重复
      - 错序
    - ARQ自动重传
    - 停止等待 & 连续ARQ
    - 重传策略
      - 回退N
      - 选择性重传 & 滑动窗口协议
    - 其他策略
      - 累积确认
      - 延迟确认
      - 捎带确认
      - 选择性确认
  - PPP协议：点对点链路
    - 帧格式
    - 帧定界：帧定界符
    - 透明传输 & 转义
  - LLC（Logic Link Control）
    - LLC1
    - LLC2
    - LLC3
- MAC：广播型链路
  - 三大类
    - 中心控制型
    - 轮流：令牌环网
    - 随机接入：以太网
  - *ALOHA时隙
  - 随机接入：以太网基础
    - 广播信道与冲突
    - CSMA：载波监听多路访问
      - 1-persistent（以太网使用）
      - p-persistent
      - non-presistent（节能）
    - CSMA/CD
      - 二进制指数退避算法
      - 争用窗口
  - 以太网协议
    - 帧格式
    - MAC地址
    - 以太网成帧：帧间空隙
    - MTU（Maximum Transmission Unit）
  - 扩展以太网：透明网桥
    - 冲突域 & 广播域
    - 集线器 vs. 交换机
    - 网桥基本操作：
      - 扩散(flood)
      - 转发(forward)
      - 丢弃(filter)
    - 转发表：自学习
      - 自学习策略
      - 生存期（TTL）
    - 多网桥 & 广播风暴
    - *生成树协议
  - 虚拟局域网：VLAN
    - VLAN：广播域划分
    - 本征VLAN
    - Trunk链路
  - *令牌环网
- 网络层
  - 网络层：提供互连网络之间的主机的通信
  - 网络服务模型（待完善）
  - *虚电路
  - IP
    - 面向数据报
    - 无连接
    - 尽最大努力交付（不可靠传输）
  - IP数据报头部
    - 版本号（IPv4 or IPv6）
    - 源IP & 目的IP
    - 上层协议（SAP）
    - 头部长度
    - 数据报长度
    - TTL（按跳计）
    - 分段相关：标志、片段偏移
    - 头部校验和
    - IP选项
  - 分段相关
    - MF：末尾分段标记
    - DF：不允许分段
    - 链路最小MTU发现
  - TTL
    - 因特网半径
    - 防止无限兜圈
    - 用于发现路径上的路由器IP
  - IP地址
    - IP地址 vs. MAC地址
    - IP地址 = 网络号 + 主机号
    - 有类网
      - A类：大型网络
      - B类：中等规模网络
      - C类：小型网络
      - D类：多播地址
      - E类：未启用
    - 无类网：划分子网
      - 子网掩码
      - 子网划分
    - 无类网：构成超网
      - 超网记号
      - 构成超网
    - 特殊IP地址
      - 全0：未知的IP，用作起始/通配
      - 全1：广播地址
      - 主机号全0：子网号
      - 主机号全1：子网广播地址
      - 环回地址
    - 私有网络IP
      - 三段私有IP：10.?, 172.?, 192.168.?
      - 私有地址不可用作公网地址
  - NAT
    - 私用网络：不要求全球统一的局部自用IP
    - NAT：网络地址转换
    - PAT：含端口号的网络地址转换
    - *DA非军事区 & 防护墙
  - ICMP：网络控制消息协议
    - 主要功能：网络诊断
    - 使用IP提供服务的协议
    - 常见类型
      - 网络不可达
      - 主机不可达
      - TTL归0
      - 回显请求
      - 回显应答
    - ping 原理
  - ARP(Address Resolution Protocol)
    - ARP：给定IP，在广播型网络中寻找对应主机MAC地址
    - ARP不使用IP协议
    - ARP请求
    - ARP响应
    - *ARP欺诈攻击
  - *DHCP(Dynamic Host Configuration Protocol)
    - DHCP：动态租用IP地址
    - 跨IP、UDP、应用层工作
      - 使用UDP/IP封装
      - 实际上使用广播帧
      - DHCP服务器需要在同一直连网中
    - DHCP Discover & DHCP Offer
    - DHCP Request & DHCP Acknowlegment
  - 路由选择协议：
    - AS（自治系统）
    - IGP（内部网关协议）
      - RIP
      - OSPF
    - EGP（外部网关协议）
      - BGP
  - RIP
    - 基于距离向量
    - 通过邻居的路由表学习自己的路由表
    - 最大网络半径16
    - 慢收敛：
      - 网络半径较大
      - 计数到无穷
      - 对策：水平分割 & 毒化路由
      - 对策：抑制技术
      - 对策：触发更新
  - OSPF
    - 基于最短路径算法
    - 使用Dijkstra求最短路
    - 全AS保持网络拓扑结构同步
    - *网络建图规则
    - LSA: Link State Advertisement
      - Router LSA
      - Network LSA
- 传输层
  - 传输层：提供进程之间通信的逻辑信道
- 应用层
  - HTTP
  - DNS
  - SMTP & POP3