---
abbrlink: 989c73b9
categories:
- 数据库
date: 2021-09-07 20:04:05
tags:
- 专业课
- 数据库
- SQL
- 关系代数
- 数学
title: 数据库：关系代数

---

# 数据库：关系代数

关系型数据库的查询可以建模为数学中的*关系代数*。

注意，由于关系是**集合**，因而**执行关系运算后的结果中不包含完全相同的元组（行）**。

## 关系代数运算

以下基本操作：
1. $\sigma$ 选择

   返回满足给定谓词的元组的集合（行）
   
   $$
    \sigma_{col=val}(relation)
   $$

2. $\Pi$ 投影

   选择特定的列
   
   $$
    \Pi_{col}(relation)
   $$

3. $\Join$ 自然连接
   
   这是关于关系的二元运算

   自然连接的结果为两个表中同一属性（这里指属性名相同）的取值相同的行

   $$
    r1 \Join r2
   $$

4. $\cup$ 并
   
   二元运算，表示两个表的行合在一起

   该运算成立的条件是**两个表的关系模式是相容的（即属性个数相同且对应属性的域相同）**

   $$
    r1 \cup r2
   $$

5. $\times$ 笛卡尔积
   
   二元运算，表示两个元组集合的笛卡尔积

   与通常意义上的笛卡儿积不同，笛卡尔积的结果集合中的元素不是二元组，而是**两个关系中的属性拼接起来形成一个新的多元组**

   此外，笛卡尔积中**不将属性名相同的属性视为同一属性**，相反，在遇到两个参与运算的表存在同名的属性时**需要对重复属性进行重命名**

   $$
    r1 \times r2
   $$

   
6. $\rho$ 重命名
   
   常见于联表中出现名字重复但性质不同的属性，此时必须重命名
   $$
      \rho_{rnew(c1, c2, c3, ...)}(E)
   $$

   其中$E$可以是*任意关系代数表达式*。下标中的模式是$E$新得的名字，也即**对E所表达的关系重命名为$rnew$，并对应将属性重命名**

以下附加运算可以用基本运算表示：
（待完善）

## 扩展的关系代数
实际上关系代数的表达能力无法表达某些请求。

以下两种常见的拓展不能用关系代数的基本运算表示：
- 广义投影
- 聚集