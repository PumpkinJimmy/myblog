---
title: 分布式系统通信
abbrlink: 15210af2
date: 2021-10-22 14:33:41
---
# 分布式系统通信

## RPC
### 概述（待完善）
### stub（桩函数）（待完善）

### 参数传递

RPC参数传递其实就是消息传递问题。

RPC消息传递的挑战：
- 服务端和客户端的数据表示可能不一样
- 传递的消息可能很复杂，但网络传输的信息只能是字节流

总的来说，消息传递要达到如下目的：
- 客户端和服务端都能正确解释消息
- 消息能转化成机器无关的表达方式

解决这些问题的关键是**序列化**

### 多种形式
- 同步RPC
- 异步RPC
- 多RPC

### RPC的核心技术
两个核心技术：
- 对象序列化协议
- 调用控制协议

### RPC工作流（待完善）

### DCE RPC标准（正在消亡）
一个源文件，产生客户/服务端代码。

IDF: Interface Description File

IDL Compiler: Interface Description Language Compiler



## 消息中间件
消息中间件的作用：
- 屏蔽底层的异构性
- 对输入输出消息格式做转换
- 提供基于Topic的路由
- 可以充当应用层网关

消息中间件常称为*消息队列系统*


## 面向流的通信
前面介绍的RPC，消息队列，这些都是**面向消息的通信**：数据被封装为消息传输。

面向数据流的通信同样常见（常见于多媒体传输）

三种模式：
- 异步传输
- 同步传输
- 等时传输

## 多播（待完善）