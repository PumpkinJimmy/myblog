---
date: 2021-10-19 14:22:45
---
# 图像复原
## 图像退化模型
$$
    g(x,y) = H[f(x,y)] + \eta(x,y)
$$

其中，$g(x,y)$退化后的图像，$f(x,y)$是理想的原图像。

$\eta(x,y)$常称为*噪声*

## 噪声模型

考虑简化的图像退化模型：
$$
    g(x,y) = f(x,y) + \eta(x,y)
$$

则此时图像只剩下加性的噪声。

为了使模型可解，我们假设**噪声服从某分布的随机变量，噪声函数$\eta(x,y)$的每个位置的取值都是对该分布的采样的一个样本**

## 空间域去噪

主要针对高斯噪声和椒盐噪声。

椒盐噪声是指胡椒噪声/盐噪声。

### 均值滤波
- 算数均值
- 几何均值
- 谐波均值
- 逆谐波均值

### 基于顺序统计量的滤波
- 中值滤波
- 最大/最小值滤波
- 中点滤波
- Alpha截断中值滤波

### 自适应去噪滤波（待完善）

## 频率域去除周期噪声

### 周期噪声（待完善）

### 陷波滤波器提取噪声模式

### 利用噪声模式取噪

通过陷波滤波器得到周期噪声的频谱：
$$
    N(u,v) = H_{NP}(u,v)G(u,v)
$$
反变换即可得到噪声图像$\eta(x,y)$

如果这一估计是完美的，那直接减去噪声即可。

但通常，这一估计都是不完美的。

我们引入一个*加权函数*来改进这一去噪：
$$
    \hat f(x,y) = g(x,y) - w(x,y)\eta(x,y)
$$

其中$w(x,y)$为减去的噪声加上了一个权重。

$w(x,y)$的确定可以借助这样一个先验：**噪声将导致局部方差剧烈增大**

从而构造关于$w(x,y)$的局部方差最小化的最优化问题，求出$w(x,y)$

## 线性移不变退化

一般化图像退化模型：
$$
    g(x,y) = H[f(x,y)] + \eta(x,y)
$$

其中$H$太复杂了（尤其是非线性的场合）

考虑将$H$看作一个系统，则**若$H$是线性移不变系统**，则退化模型写作：
$$
    g(x,y) = h(x,y) * f(x,y) + \eta(x,y)
$$

其中$h(x,y)$是系统$H$的冲激响应

此时问题简化为可以处理的情景

### 常见退化处理方法
- 观察法
  
  观察频谱图像，构造滤波器

- 实验法
  
  直接测量得到退化系统的冲激响应

- 模型法
  
  根据关于退化的先验知识建模得到重建方法

### 模型法举例：取运动模糊

### 逆滤波（待完善）

### 维纳滤波（待完善）

$$
    H(u,v) = \frac{P_s(u,v)}{P_s(u,v) + P_{\eta}(u,v)}
$$

### 约束最小二乘滤波（待完善）

将图像和噪声建模为向量，将线性移不变退化重写未：
$$
    g = Hf + \eta
$$

其中$g,f,\eta$都是向量，$H$是退化矩阵。

考虑到无噪声的图像往往有如下统计特征：
- 方差较小
- 微分较小

因此考虑令图像的二阶微分最小。

将问题建模为如下约束优化问题：
$$
    \min_{\hat f} \sum_{x=0}^{M-1}\sum_{y=0}^{N-1}\left[\nabla^2 \hat f(x,y)\right]^2\\
    s.t.\ || g - H \hat{f} ||^2 = ||\eta||^2
$$

上述问题中，$||\eta||^2$可以根据噪声的均值和方差计算得到。

解得最优解$\hat F(u,v) =$

### 几何均值滤波（待完善）
$$

$$