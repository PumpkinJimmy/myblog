# 比特币社区与节点

## 节点类型
- Full Node
- Miner
- SPV

## 其他角色
- 矿池

## 社区挑战
- 如何保证Miner持续投入大量算力
- 如何保证比特币价格高稳
- Full Node没有激励

## 社区发展：规则更新
- 软分叉——规则锁紧
- 硬分叉——规则放宽

## 可能的恶意策略（待完善）
### 51%合谋
实现恶意分叉攻击（双花攻击）
  
设A向B支付，并将交易写入一个块中确认

构造A向C支付的交易的区块，向全网传播A向C支付的区块，并利用优势算力使得A向C支付所在的分叉成为最长链，最终使得A向B支付的交易无效。

这种手法就是双花攻击。A达成了两次交易，从两个人交换得到了物质，但最终在全局帐本中只有一条支付生效，相当于将一批比特币花了两次。

没有特别有效的解决方案。这是PoW的设计缺陷。

一个合理的方案是“六次确认”，也即只有大于六个区块确认，交易才最终生效。这样会进一步加大恶意分叉的成本和所需要的算力。

### 自私挖矿（33%）

### 空块挖矿

### 偏见记账

可以不选择某些特点的交易做打包，使得某些交易永远不生效。

比较少见。

## 再谈比特币共识
### FLP不可能原理
分布式系统的经典结论：异步分布式系统中只要一个节点不可靠，就不存在确定性一致性算法。

### 比特币对传统分布式的超越

通过引入*奖励*，比特币系统可以令节点诚实运行。

### 比特币共识——流畅运行
- 规则的共识
- 历史的共识
- 比特币价值的共识